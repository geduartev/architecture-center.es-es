---
title: Recuperación de pérdidas de una región de Azure
description: Artículo para entender y diseñar aplicaciones resistentes, con alta disponibilidad y con tolerancia a errores y para planear la recuperación ante desastres.
author: adamglick
ms.date: 08/18/2016
ms.openlocfilehash: f551e8af8aece8aa30abfba2438c41c3944209bd
ms.sourcegitcommit: e67b751f230792bba917754d67789a20810dc76b
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 04/06/2018
---
[!INCLUDE [header](../_includes/header.md)]

# <a name="azure-resiliency-technical-guidance-recovery-from-a-region-wide-service-disruption"></a><span data-ttu-id="e2c8b-103">Guía técnica sobre resistencia en Azure: recuperación ante una interrupción del servicio en toda la región</span><span class="sxs-lookup"><span data-stu-id="e2c8b-103">Azure resiliency technical guidance: recovery from a region-wide service disruption</span></span>
<span data-ttu-id="e2c8b-104">Azure se divide física y lógicamente en unidades denominadas regiones.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-104">Azure is divided physically and logically into units called regions.</span></span> <span data-ttu-id="e2c8b-105">Una región consta de uno o varios centros de datos muy cercanos.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-105">A region consists of one or more datacenters in close proximity.</span></span> 

<span data-ttu-id="e2c8b-106">En raras ocasiones es posible que no se pueda acceder a las instalaciones de toda una región debido, por ejemplo, a errores en la red.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-106">Under rare circumstances, it is possible that facilities in an entire region can become inaccessible, for example due to network failures.</span></span> <span data-ttu-id="e2c8b-107">O las instalaciones pueden perderse por completo debido, por ejemplo, a un desastre natural.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-107">Or facilities can be lost entirely, for example due to a natural disaster.</span></span> <span data-ttu-id="e2c8b-108">Esta sección explica las funcionalidades de Azure para crear aplicaciones que se distribuyen entre diferentes regiones.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-108">This section explains the capabilities of Azure for creating applications that are distributed across regions.</span></span> <span data-ttu-id="e2c8b-109">Esta distribución está diseñada para minimizar la posibilidad de que un error en una región pueda afectar a otras.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-109">Such distribution helps to minimize the possibility that a failure in one region could affect other regions.</span></span>

## <a name="cloud-services"></a><span data-ttu-id="e2c8b-110">Servicios en la nube</span><span class="sxs-lookup"><span data-stu-id="e2c8b-110">Cloud services</span></span>
### <a name="resource-management"></a><span data-ttu-id="e2c8b-111">Administración de recursos</span><span class="sxs-lookup"><span data-stu-id="e2c8b-111">Resource management</span></span>
<span data-ttu-id="e2c8b-112">Las instancias de proceso se pueden distribuir entre las regiones creando un servicio en la nube independiente en cada región de destino y publicando luego el paquete de implementación en cada servicio en la nube.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-112">You can distribute compute instances across regions by creating a separate cloud service in each target region, and then publishing the deployment package to each cloud service.</span></span> <span data-ttu-id="e2c8b-113">Sin embargo, tenga en cuenta que la distribución del tráfico entre los servicios en la nube de distintas regiones debe implementarlo el desarrollador de la aplicación o puede implementarse mediante un servicio de administración de tráfico.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-113">However, note that distributing traffic across cloud services in different regions must be implemented by the application developer or with a traffic management service.</span></span>

<span data-ttu-id="e2c8b-114">Determinar el número de instancias de rol de reserva que debe implementar de antemano para la recuperación ante desastres es un aspecto importante del planeamiento de la capacidad.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-114">Determining the number of spare role instances to deploy in advance for disaster recovery is an important aspect of capacity planning.</span></span> <span data-ttu-id="e2c8b-115">La existencia de una implementación secundaria a escala completa garantiza que habrá capacidad disponible cuando sea necesario. Sin embargo, esto duplica realmente el costo.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-115">Having a full-scale secondary deployment ensures that capacity is already available when needed; however, this effectively doubles the cost.</span></span> <span data-ttu-id="e2c8b-116">Un patrón común consiste en tener una pequeña implementación secundaria lo suficientemente grande como para ejecutar los servicios esenciales.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-116">A common pattern is to have a small, secondary deployment, just large enough to run critical services.</span></span> <span data-ttu-id="e2c8b-117">Esta pequeña implementación secundaria es recomendable tanto para tener capacidad reservada como para probar la configuración del entorno secundario.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-117">This small secondary deployment is a good idea, both to reserve capacity, and for testing the configuration of the secondary environment.</span></span>

> [!NOTE]
> <span data-ttu-id="e2c8b-118">La cuota de suscripción no es una garantía de capacidad.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-118">The subscription quota is not a capacity guarantee.</span></span> <span data-ttu-id="e2c8b-119">La cuota es simplemente un límite de crédito.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-119">The quota is simply a credit limit.</span></span> <span data-ttu-id="e2c8b-120">Para garantizar la capacidad se tiene que definir el número necesario de roles en el modelo de servicio y dichos roles se tienen que implementar.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-120">To guarantee capacity, the required number of roles must be defined in the service model, and the roles must be deployed.</span></span>
> 
> 

### <a name="load-balancing"></a><span data-ttu-id="e2c8b-121">Equilibrio de carga</span><span class="sxs-lookup"><span data-stu-id="e2c8b-121">Load Balancing</span></span>
<span data-ttu-id="e2c8b-122">Para equilibrar la carga de tráfico entre regiones es necesaria una solución de administración de tráfico.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-122">To load balance traffic across regions requires a traffic management solution.</span></span> <span data-ttu-id="e2c8b-123">Azure proporciona el [Administrador de tráfico de Azure](https://azure.microsoft.com/services/traffic-manager/).</span><span class="sxs-lookup"><span data-stu-id="e2c8b-123">Azure provides [Azure Traffic Manager](https://azure.microsoft.com/services/traffic-manager/).</span></span> <span data-ttu-id="e2c8b-124">También puede utilizar los servicios de terceros que proporcionan funcionalidades de administración de tráfico similares.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-124">You can also take advantage of third-party services that provide similar traffic management capabilities.</span></span>

### <a name="strategies"></a><span data-ttu-id="e2c8b-125">Estrategias</span><span class="sxs-lookup"><span data-stu-id="e2c8b-125">Strategies</span></span>
<span data-ttu-id="e2c8b-126">Existen muchas estrategias alternativas para implementar el proceso distribuido entre regiones.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-126">Many alternative strategies are available for implementing distributed compute across regions.</span></span> <span data-ttu-id="e2c8b-127">Estas se deben adaptar a los requisitos empresariales específicos y a las circunstancias de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-127">These must be tailored to the specific business requirements and circumstances of the application.</span></span> <span data-ttu-id="e2c8b-128">En un nivel alto, los enfoques pueden dividirse en las siguientes categorías:</span><span class="sxs-lookup"><span data-stu-id="e2c8b-128">At a high level, the approaches can be divided into the following categories:</span></span>

* <span data-ttu-id="e2c8b-129">**Volver a implementar en caso de desastre**: en este enfoque, la aplicación se vuelve a implementar desde cero en el momento del desastre.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-129">**Redeploy on disaster**: In this approach the application is redeployed from scratch at the time of disaster.</span></span> <span data-ttu-id="e2c8b-130">Esto es adecuado para aplicaciones que no son esenciales y que no requieren un tiempo de recuperación garantizado.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-130">This is appropriate for non-critical applications that don’t require a guaranteed recovery time.</span></span>
* <span data-ttu-id="e2c8b-131">**Reserva semiactiva (activa/pasiva)**: se crea un servicio hospedado secundario en una región alternativa y se implementan los roles para garantizar una capacidad mínima; sin embargo, los roles no reciben el tráfico de producción.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-131">**Warm Spare (Active/Passive)**: A secondary hosted service is created in an alternate region, and roles are deployed to guarantee minimal capacity; however, the roles don’t receive production traffic.</span></span> <span data-ttu-id="e2c8b-132">Este enfoque es útil para las aplicaciones que no se han diseñado para distribuir el tráfico entre las regiones.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-132">This approach is useful for applications that have not been designed to distribute traffic across regions.</span></span>
* <span data-ttu-id="e2c8b-133">**Reserva activa (activa/activa)**: la aplicación está diseñada para recibir la carga de producción en varias regiones.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-133">**Hot Spare (Active/Active)**: The application is designed to receive production load in multiple regions.</span></span> <span data-ttu-id="e2c8b-134">Los servicios en la nube de cada región pueden configurarse para una capacidad mayor de la necesaria para fines de recuperación ante desastres.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-134">The cloud services in each region might be configured for higher capacity than required for disaster recovery purposes.</span></span> <span data-ttu-id="e2c8b-135">Como alternativa, se podrían escalar horizontalmente los servicios en la nube según sea necesario en el momento de un desastre y una conmutación por error.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-135">Alternatively, the cloud services might scale out as necessary at the time of a disaster and failover.</span></span> <span data-ttu-id="e2c8b-136">Este enfoque requiere una inversión sustancial en el diseño de la aplicación, pero tiene ventajas significativas.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-136">This approach requires substantial investment in application design, but it has significant benefits.</span></span> <span data-ttu-id="e2c8b-137">Estas incluyen un tiempo de recuperación bajo y garantizado, la comprobación continua de todas las ubicaciones de recuperación y un uso eficiente de la capacidad.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-137">These include low and guaranteed recovery time, continuous testing of all recovery locations, and efficient usage of capacity.</span></span>

<span data-ttu-id="e2c8b-138">Un análisis completo del diseño distribuido está fuera del ámbito de este documento.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-138">A complete discussion of distributed design is outside the scope of this document.</span></span> <span data-ttu-id="e2c8b-139">Para más información, consulte [Recuperación ante desastres y alta disponibilidad para aplicaciones creadas en Microsoft Azure](https://aka.ms/drtechguide).</span><span class="sxs-lookup"><span data-stu-id="e2c8b-139">For further information, see [Disaster Recovery and High Availability for Azure Applications](https://aka.ms/drtechguide).</span></span>

## <a name="virtual-machines"></a><span data-ttu-id="e2c8b-140">Virtual Machines</span><span class="sxs-lookup"><span data-stu-id="e2c8b-140">Virtual Machines</span></span>
<span data-ttu-id="e2c8b-141">La recuperación de máquinas virtuales (VMs) de infraestructura como servicio (IaaS) es similar en muchos aspectos a la recuperación de procesos de plataforma como servicio (PaaS).</span><span class="sxs-lookup"><span data-stu-id="e2c8b-141">Recovery of infrastructure as a service (IaaS) virtual machines (VMs) is similar to platform as a service (PaaS) compute recovery in many respects.</span></span> <span data-ttu-id="e2c8b-142">Sin embargo, hay diferencias importantes debido al hecho de que una máquina virtual de IaaS consta de la máquina virtual y el disco de esta.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-142">There are important differences, however, due to the fact that an IaaS VM consists of both the VM and the VM disk.</span></span>

* <span data-ttu-id="e2c8b-143">**Use Azure Backup para crear copias de seguridad entre regiones que sean coherentes con la aplicación**.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-143">**Use Azure Backup to create cross region backups that are application consistent**.</span></span>
  <span data-ttu-id="e2c8b-144">[Azure Backup](https://azure.microsoft.com/services/backup/) permite a los clientes crear copias de seguridad coherentes con la aplicación en varios discos de máquinas virtuales y admite la replicación de tales copias entre regiones.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-144">[Azure Backup](https://azure.microsoft.com/services/backup/) enables customers to create application consistent backups across multiple VM disks, and support replication of backups across regions.</span></span> <span data-ttu-id="e2c8b-145">Para ello elija replicar geográficamente el almacén de copia de seguridad en el momento de la creación.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-145">You can do this by choosing to geo-replicate the backup vault at the time of creation.</span></span> <span data-ttu-id="e2c8b-146">Tenga en cuenta que la replicación del almacén de copia de seguridad se tiene que configurar en el momento de la creación.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-146">Note that replication of the backup vault must be configured at the time of creation.</span></span> <span data-ttu-id="e2c8b-147">Más adelante no será posible establecerla.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-147">It can't be set later.</span></span> <span data-ttu-id="e2c8b-148">Si se pierde una región, Microsoft pondrá las copias de seguridad a disponibilidad de los clientes.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-148">If a region is lost, Microsoft will make the backups available to customers.</span></span> <span data-ttu-id="e2c8b-149">Los clientes podrán restaurar a cualquiera de sus puntos de restauración configurados.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-149">Customers will be able to restore to any of their configured restore points.</span></span>
* <span data-ttu-id="e2c8b-150">**Separe el disco de datos del disco del sistema operativo**.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-150">**Separate the data disk from the operating system disk**.</span></span> <span data-ttu-id="e2c8b-151">Una consideración importante para las máquinas virtuales de IaaS es que no se puede cambiar el disco del sistema operativo sin volver a crear la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-151">An important consideration for IaaS VMs is that you cannot change the operating system disk without re-creating the VM.</span></span> <span data-ttu-id="e2c8b-152">Esto no supone ningún problema si su estrategia de recuperación es volver a implementar después de los desastres.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-152">This is not a problem if your recovery strategy is to redeploy after disaster.</span></span> <span data-ttu-id="e2c8b-153">Sin embargo, podría ser un problema si utiliza el método de espera semiactiva para capacidad reservada.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-153">However, it might be a problem if you are using the Warm Spare approach to reserve capacity.</span></span> <span data-ttu-id="e2c8b-154">Para implementar esto correctamente tiene que tener el disco del sistema operativo correcto implementado en las ubicaciones principal y secundaria, y los datos de la aplicación tienen que estar almacenados en una unidad independiente.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-154">To implement this properly, you must have the correct operating system disk deployed to both the primary and secondary locations, and the application data must be stored on a separate drive.</span></span> <span data-ttu-id="e2c8b-155">Si es posible, utilice una configuración estándar de sistema operativo que se pueda proporcionar en ambas ubicaciones.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-155">If possible, use a standard operating system configuration that can be provided on both locations.</span></span> <span data-ttu-id="e2c8b-156">Después de una conmutación por error, tiene que adjuntar la unidad de datos a las máquinas virtuales de IaaS existentes en el controlador de dominio secundario.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-156">After a failover, you must then attach the data drive to your existing IaaS VMs in the secondary DC.</span></span> <span data-ttu-id="e2c8b-157">Use AzCopy para copiar instantáneas de los discos de datos en un sitio remoto.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-157">Use AzCopy to copy snapshots of the data disk(s) to a remote site.</span></span>
* <span data-ttu-id="e2c8b-158">**Tenga en cuenta los posibles problemas de coherencia después de una conmutación por error geográfica de varios discos de máquina virtual**.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-158">**Be aware of potential consistency issues after a geo-failover of multiple VM Disks**.</span></span> <span data-ttu-id="e2c8b-159">Los discos de máquinas virtuales se implementan como blobs de Azure Storage y tienen la misma característica de replicación geográfica.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-159">VM Disks are implemented as Azure Storage blobs, and have the same geo-replication characteristic.</span></span> <span data-ttu-id="e2c8b-160">A menos que utilice [Azure Backup](https://azure.microsoft.com/services/backup/) no hay garantía de coherencia entre los discos, porque la replicación geográfica es asincrónica y se replica de forma independiente.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-160">Unless [Azure Backup](https://azure.microsoft.com/services/backup/) is used, there are no guarantees of consistency across disks, because geo-replication is asynchronous and replicates independently.</span></span> <span data-ttu-id="e2c8b-161">Se garantiza que los discos de máquinas virtuales individuales se encontrarán en un estado de coherencia frente a bloqueos después de una conmutación por error geográfica, pero no se garantiza la coherencia entre los diferentes discos.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-161">Individual VM disks are guaranteed to be in a crash consistent state after a geo-failover, but not consistent across disks.</span></span> <span data-ttu-id="e2c8b-162">Esto podría producir problemas en algunos casos (por ejemplo, en los casos de seccionamiento de discos).</span><span class="sxs-lookup"><span data-stu-id="e2c8b-162">This could cause problems in some cases (for example, in the case of disk striping).</span></span>

## <a name="storage"></a><span data-ttu-id="e2c8b-163">Storage</span><span class="sxs-lookup"><span data-stu-id="e2c8b-163">Storage</span></span>
### <a name="recovery-by-using-geo-redundant-storage-of-blob-table-queue-and-vm-disk-storage"></a><span data-ttu-id="e2c8b-164">Recuperación mediante almacenamiento con redundancia geográfica de blobs, tablas, colas y almacenamiento de disco de máquinas virtuales</span><span class="sxs-lookup"><span data-stu-id="e2c8b-164">Recovery by using Geo-Redundant Storage of blob, table, queue and VM disk storage</span></span>
<span data-ttu-id="e2c8b-165">En Azure, todos los blobs, tablas, colas y discos de máquinas virtuales se replican geográficamente de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-165">In Azure, blobs, tables, queues, and VM disks are all geo-replicated by default.</span></span> <span data-ttu-id="e2c8b-166">Esto se conoce como almacenamiento con redundancia geográfica (GRS).</span><span class="sxs-lookup"><span data-stu-id="e2c8b-166">This is referred to as Geo-Redundant Storage (GRS).</span></span> <span data-ttu-id="e2c8b-167">El almacenamiento con redundancia geográfica replica los datos de almacenamiento en un centro de datos emparejado a cientos de kilómetros de distancia dentro de una región geográfica concreta.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-167">GRS replicates storage data to a paired datacenter hundreds of miles apart within a specific geographic region.</span></span> <span data-ttu-id="e2c8b-168">El almacenamiento con redundancia geográfica (GRS) está diseñado para proporcionar durabilidad adicional si se produce un desastre en el centro de datos principal.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-168">GRS is designed to provide additional durability in case there is a major datacenter disaster.</span></span> <span data-ttu-id="e2c8b-169">Microsoft controla cuándo se produce la conmutación por error y esta se limita a casos de desastres importantes en los que la ubicación principal original se considera irrecuperable en un período de tiempo razonable.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-169">Microsoft controls when failover occurs, and failover is limited to major disasters in which the original primary location is deemed unrecoverable in a reasonable amount of time.</span></span> <span data-ttu-id="e2c8b-170">En algunos escenarios este periodo puede ser de varios días.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-170">Under some scenarios, this can be several days.</span></span> <span data-ttu-id="e2c8b-171">Normalmente, los datos se replican en unos minutos, aunque el intervalo de sincronización aún no lo cubre el contrato de nivel de servicio.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-171">Data is typically replicated within a few minutes, although synchronization interval is not yet covered by a service level agreement.</span></span>

<span data-ttu-id="e2c8b-172">En el caso de una conmutación geográfica, no habrá ningún cambio en la forma en la que se tiene acceso a la cuenta (la dirección URL y la clave no cambiarán).</span><span class="sxs-lookup"><span data-stu-id="e2c8b-172">In the event of a geo-failover, there will be no change to how the account is accessed (the URL and account key will not change).</span></span> <span data-ttu-id="e2c8b-173">La cuenta de almacenamiento, sin embargo, estará en una región distinta después de la conmutación por error.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-173">The storage account will, however, be in a different region after failover.</span></span> <span data-ttu-id="e2c8b-174">Esto puede afectar a las aplicaciones que requieren afinidad regional con su cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-174">This could impact applications that require regional affinity with their storage account.</span></span> <span data-ttu-id="e2c8b-175">Incluso para aquellos servicios y aplicaciones que no requieren una cuenta de almacenamiento en el mismo centro de datos, los gastos por ancho de banda y latencia entre centros de datos pueden ser razones de peso para mover el tráfico temporalmente a la región de conmutación por error.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-175">Even for services and applications that do not require a storage account in the same datacenter, the cross-datacenter latency and bandwidth charges might be compelling reasons to move traffic to the failover region temporarily.</span></span> <span data-ttu-id="e2c8b-176">Esto podría tenerse en cuenta a la hora de crear una estrategia general de recuperación ante desastres.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-176">This could factor into an overall disaster recovery strategy.</span></span>

<span data-ttu-id="e2c8b-177">Además de la conmutación por error automática proporcionada por GRS, Azure ha introducido un servicio que le proporciona acceso de lectura a la copia de los datos en la ubicación de almacenamiento secundaria.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-177">In addition to automatic failover provided by GRS, Azure has introduced a service that gives you read access to the copy of your data in the secondary storage location.</span></span> <span data-ttu-id="e2c8b-178">Este se denomina Almacenamiento con redundancia geográfica con acceso de lectura (RA-GRS).</span><span class="sxs-lookup"><span data-stu-id="e2c8b-178">This is called Read-Access Geo-Redundant Storage (RA-GRS).</span></span>

<span data-ttu-id="e2c8b-179">Para más información sobre GRS y RA-GRS, consulte [Replicación de Azure Storage](/azure/storage/storage-redundancy/).</span><span class="sxs-lookup"><span data-stu-id="e2c8b-179">For more information about both GRS and RA-GRS storage, see [Azure Storage replication](/azure/storage/storage-redundancy/).</span></span>

### <a name="geo-replication-region-mappings"></a><span data-ttu-id="e2c8b-180">Asignaciones de regiones de replicación geográfica:</span><span class="sxs-lookup"><span data-stu-id="e2c8b-180">Geo-Replication region mappings:</span></span>
<span data-ttu-id="e2c8b-181">Es importante saber dónde se replican geográficamente los datos para saber dónde implementar las otras instancias de los datos que requieren afinidad regional con el almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-181">It is important to know where your data is geo-replicated, in order to know where to deploy the other instances of your data that require regional affinity with your storage.</span></span> <span data-ttu-id="e2c8b-182">Para más información, vea [Azure Paired Regions](/azure/best-practices-availability-paired-regions) (Regiones emparejadas de Azure).</span><span class="sxs-lookup"><span data-stu-id="e2c8b-182">For more information see [Azure Paired Regions](/azure/best-practices-availability-paired-regions).</span></span>

### <a name="geo-replication-pricing"></a><span data-ttu-id="e2c8b-183">Precios de la replicación geográfica:</span><span class="sxs-lookup"><span data-stu-id="e2c8b-183">Geo-Replication pricing:</span></span>
<span data-ttu-id="e2c8b-184">La replicación geográfica está incluida en el precio actual de Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-184">Geo-replication is included in current pricing for Azure Storage.</span></span> <span data-ttu-id="e2c8b-185">Se denomina almacenamiento con redundancia geográfica (GRS).</span><span class="sxs-lookup"><span data-stu-id="e2c8b-185">This is called Geo-Redundant Storage (GRS).</span></span> <span data-ttu-id="e2c8b-186">Si no desea que los datos se repliquen geográficamente puede deshabilitar la replicación geográfica para su cuenta.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-186">If you do not want your data geo-replicated you can disable geo-replication for your account.</span></span> <span data-ttu-id="e2c8b-187">Esto se denomina almacenamiento con redundancia local y se cobra a un precio reducido con respecto al almacenamiento con redundancia geográfica.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-187">This is called Locally Redundant Storage, and it is charged at a discounted price compared to GRS.</span></span>

### <a name="determining-if-a-geo-failover-has-occurred"></a><span data-ttu-id="e2c8b-188">Determinación de si se ha producido una conmutación por error geográfica</span><span class="sxs-lookup"><span data-stu-id="e2c8b-188">Determining if a geo-failover has occurred</span></span>
<span data-ttu-id="e2c8b-189">Si se produce una conmutación por error geográfica, se publicará en el [panel de estado del servicio de Azure](https://azure.microsoft.com/status/).</span><span class="sxs-lookup"><span data-stu-id="e2c8b-189">If a geo-failover occurs, this will be posted to the [Azure Service Health Dashboard](https://azure.microsoft.com/status/).</span></span> <span data-ttu-id="e2c8b-190">Las aplicaciones pueden implementar medios automatizados para detectarlo mediante la supervisión de la región geográfica para su cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-190">Applications can implement an automated means of detecting this, however, by monitoring the geo-region for their storage account.</span></span> <span data-ttu-id="e2c8b-191">Esto se puede utilizar para desencadenar otras operaciones de recuperación como la activación de recursos de proceso en la región geográfica a la que se movió el almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-191">This can be used to trigger other recovery operations, such as activation of compute resources in the geo-region where their storage moved to.</span></span> <span data-ttu-id="e2c8b-192">Puede realizar una consulta desde Service Management API mediante la [obtención de propiedades de la cuenta de almacenamiento](https://msdn.microsoft.com/library/ee460802.aspx).</span><span class="sxs-lookup"><span data-stu-id="e2c8b-192">You can perform a query for this from the service management API, by using [Get Storage Account Properties](https://msdn.microsoft.com/library/ee460802.aspx).</span></span> <span data-ttu-id="e2c8b-193">Las propiedades pertinentes son:</span><span class="sxs-lookup"><span data-stu-id="e2c8b-193">The relevant properties are:</span></span>

    <GeoPrimaryRegion>primary-region</GeoPrimaryRegion>
    <StatusOfPrimary>[Available|Unavailable]</StatusOfPrimary>
    <LastGeoFailoverTime>DateTime</LastGeoFailoverTime>
    <GeoSecondaryRegion>secondary-region</GeoSecondaryRegion>
    <StatusOfSecondary>[Available|Unavailable]</StatusOfSecondary>

### <a name="vm-disks-and-geo-failover"></a><span data-ttu-id="e2c8b-194">Discos de máquinas virtuales y conmutación por error geográfica</span><span class="sxs-lookup"><span data-stu-id="e2c8b-194">VM disks and geo-failover</span></span>
<span data-ttu-id="e2c8b-195">Como se describe en la sección sobre discos de máquinas virtuales, no hay garantías de coherencia de los datos entre discos de máquinas virtuales después de una conmutación por error.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-195">As discussed in the section on VM disks, there are no guarantees for data consistency across VM disks after a failover.</span></span> <span data-ttu-id="e2c8b-196">Para garantizar la exactitud de las copias de seguridad, se debe utilizar un producto como Data Protection Manager para realizar una copia de seguridad y restaurar los datos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-196">To ensure correctness of backups, a backup product such as Data Protection Manager should be used to back up and restore application data.</span></span>

## <a name="database"></a><span data-ttu-id="e2c8b-197">Base de datos</span><span class="sxs-lookup"><span data-stu-id="e2c8b-197">Database</span></span>
### <a name="sql-database"></a><span data-ttu-id="e2c8b-198">SQL Database</span><span class="sxs-lookup"><span data-stu-id="e2c8b-198">SQL Database</span></span>
<span data-ttu-id="e2c8b-199">Azure SQL Database proporciona dos tipos de recuperación, la restauración geográfica y la replicación geográfica activa.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-199">Azure SQL Database provides two types of recovery: Geo-Restore and Active Geo-Replication.</span></span>

#### <a name="geo-restore"></a><span data-ttu-id="e2c8b-200">Restauración geográfica</span><span class="sxs-lookup"><span data-stu-id="e2c8b-200">Geo-Restore</span></span>
<span data-ttu-id="e2c8b-201">La funcionalidad de [restauración geográfica](/azure/sql-database/sql-database-recovery-using-backups/#geo-restore) también está disponible en las bases de datos básicas, estándares y premium.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-201">[Geo-Restore](/azure/sql-database/sql-database-recovery-using-backups/#geo-restore) is also available with Basic, Standard, and Premium databases.</span></span> <span data-ttu-id="e2c8b-202">Esta restauración proporciona la opción de recuperación predeterminada cuando la base de datos no está disponible debido a una incidencia en la región en la que se hospeda la base de datos.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-202">It provides the default recovery option when the database is unavailable because of an incident in the region where your database is hosted.</span></span> <span data-ttu-id="e2c8b-203">Al igual que la restauración a un momento dado, la restauración geográfica se basa en copias de seguridad de la base de datos en el Almacenamiento de Azure con redundancia geográfica.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-203">Similar to Point-In-Time Restore, Geo-Restore relies on database backups in geo-redundant Azure storage.</span></span> <span data-ttu-id="e2c8b-204">Realiza la restauración a partir de la copia de seguridad de replicación geográfica. Por lo tanto es resistente a las interrupciones de almacenamiento en la región principal.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-204">It restores from the geo-replicated backup copy, and therefore is resilient to the storage outages in the primary region.</span></span> <span data-ttu-id="e2c8b-205">Consulte [Restauración de Azure SQL Database o una conmutación por error en una secundaria](/azure/sql-database/sql-database-disaster-recovery/).</span><span class="sxs-lookup"><span data-stu-id="e2c8b-205">For more details, see [Restore an Azure SQL Database or failover to a secondary](/azure/sql-database/sql-database-disaster-recovery/).</span></span>

#### <a name="active-geo-replication"></a><span data-ttu-id="e2c8b-206">Replicación geográfica activa</span><span class="sxs-lookup"><span data-stu-id="e2c8b-206">Active Geo-Replication</span></span>
<span data-ttu-id="e2c8b-207">[Replicación geográfica activa](/azure/sql-database/sql-database-geo-replication-overview/) está disponible para todos los niveles de base de datos.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-207">[Active Geo-Replication](/azure/sql-database/sql-database-geo-replication-overview/) is available for all database tiers.</span></span> <span data-ttu-id="e2c8b-208">Está diseñada para aplicaciones que tienen unos requisitos de recuperación más exigentes que los que puede ofrecer la restauración geográfica.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-208">It’s designed for applications that have more aggressive recovery requirements than Geo-Restore can offer.</span></span> <span data-ttu-id="e2c8b-209">Con la replicación geográfica activa, puede crear hasta cuatro bases de datos secundarias legibles en servidores situados en regiones diferentes.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-209">Using Active Geo-Replication, you can create up to four readable secondaries on servers in different regions.</span></span> <span data-ttu-id="e2c8b-210">Puede iniciar la conmutación por error a cualquiera de las bases de datos secundarias.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-210">You can initiate failover to any of the secondaries.</span></span> <span data-ttu-id="e2c8b-211">Además, la replicación geográfica activa puede utilizarse para los escenarios de actualización o reubicación de la aplicación, así como para el equilibrio de cargas de trabajo de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-211">In addition, Active Geo-Replication can be used to support the application upgrade or relocation scenarios, as well as load balancing for read-only workloads.</span></span> <span data-ttu-id="e2c8b-212">Para obtener más información, consulte el artículo sobre cómo [configurar la replicación geográfica](/azure/sql-database/sql-database-geo-replication-portal/) y [conmutar por error a la base de datos secundaria](/azure/sql-database/sql-database-geo-replication-failover-portal/).</span><span class="sxs-lookup"><span data-stu-id="e2c8b-212">For details, see [configure Geo-Replication](/azure/sql-database/sql-database-geo-replication-portal/) and to [fail over to the secondary database](/azure/sql-database/sql-database-geo-replication-failover-portal/).</span></span> <span data-ttu-id="e2c8b-213">Consulte [Diseño de una aplicación para la recuperación ante desastres en la nube mediante replicación geográfica activa en SQL Database](/azure/sql-database/sql-database-designing-cloud-solutions-for-disaster-recovery/) y [Administración de actualizaciones graduales de aplicaciones en la nube mediante la replicación geográfica activa de SQL Database](/azure/sql-database/sql-database-manage-application-rolling-upgrade/) para obtener información sobre cómo diseñar e implementar aplicaciones y actualizaciones de aplicaciones sin que se produzcan tiempos de inactividad.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-213">Refer to [Design an application for cloud disaster recovery using Active Geo-Replication in SQL Database](/azure/sql-database/sql-database-designing-cloud-solutions-for-disaster-recovery/) and [Managing rolling upgrades of cloud applications using SQL Database Active Geo-Replication](/azure/sql-database/sql-database-manage-application-rolling-upgrade/) for details on how to design and implement applications and applications upgrade without downtime.</span></span>

### <a name="sql-server-on-virtual-machines"></a><span data-ttu-id="e2c8b-214">SQL Server en máquinas virtuales</span><span class="sxs-lookup"><span data-stu-id="e2c8b-214">SQL Server on Virtual Machines</span></span>
<span data-ttu-id="e2c8b-215">Hay varias opciones disponibles de recuperación y alta disponibilidad para SQL Server 2012 (y versiones posteriores) que se ejecutan en Azure Virtual Machines.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-215">A variety of options are available for recovery and high availability for SQL Server 2012 (and later) running in Azure Virtual Machines.</span></span> <span data-ttu-id="e2c8b-216">Para más información, consulte [Alta disponibilidad y recuperación ante desastres para SQL Server en Azure Virtual Machines](/azure/virtual-machines/windows/sql/virtual-machines-windows-sql-high-availability-dr/).</span><span class="sxs-lookup"><span data-stu-id="e2c8b-216">For more information, see [High availability and disaster recovery for SQL Server in Azure Virtual Machines](/azure/virtual-machines/windows/sql/virtual-machines-windows-sql-high-availability-dr/).</span></span>

## <a name="other-azure-platform-services"></a><span data-ttu-id="e2c8b-217">Otros servicios de la plataforma de Azure</span><span class="sxs-lookup"><span data-stu-id="e2c8b-217">Other Azure platform services</span></span>
<span data-ttu-id="e2c8b-218">Al intentar ejecutar el servicio en la nube en varias regiones de Azure, debe tener en cuenta las implicaciones de cada una de las dependencias.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-218">When attempting to run your cloud service in multiple Azure regions, you must consider the implications for each of your dependencies.</span></span> <span data-ttu-id="e2c8b-219">En las secciones siguientes, la guía específica del servicio supone que debe usar el mismo servicio de Azure en un centro de datos de Azure alternativo.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-219">In the following sections, the service-specific guidance assumes that you must use the same Azure service in an alternate Azure datacenter.</span></span> <span data-ttu-id="e2c8b-220">Esto implica tareas de configuración y de replicación de datos.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-220">This involves both configuration and data-replication tasks.</span></span>

> [!NOTE]
> <span data-ttu-id="e2c8b-221">En algunos casos, estos pasos pueden ayudar a mitigar una interrupción específica del servicio en lugar de un evento de centro de datos completo.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-221">In some cases, these steps can help to mitigate a service-specific outage rather than an entire datacenter event.</span></span> <span data-ttu-id="e2c8b-222">Desde la perspectiva de la aplicación, una interrupción específica del servicio puede ser igual de restrictiva y requerir la migración temporal del servicio en una región de Azure alternativa.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-222">From the application perspective, a service-specific outage might be just as limiting and would require temporarily migrating the service to an alternate Azure region.</span></span>
> 
> 

### <a name="service-bus"></a><span data-ttu-id="e2c8b-223">Azure Service Bus</span><span class="sxs-lookup"><span data-stu-id="e2c8b-223">Service Bus</span></span>
<span data-ttu-id="e2c8b-224">Azure Service Bus usa un espacio de nombres único que no abarca varias regiones de Azure.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-224">Azure Service Bus uses a unique namespace that does not span Azure regions.</span></span> <span data-ttu-id="e2c8b-225">El primer requisito es configurar los espacios de nombres necesarios del bus de servicio en la región alternativa.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-225">So the first requirement is to setup the necessary service bus namespaces in the alternate region.</span></span> <span data-ttu-id="e2c8b-226">Sin embargo, también hay consideraciones sobre la durabilidad de los mensajes en cola.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-226">However, there are also considerations for the durability of the queued messages.</span></span> <span data-ttu-id="e2c8b-227">Existen varias estrategias para replicar mensajes entre regiones de Azure.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-227">There are several strategies for replicating messages across Azure regions.</span></span> <span data-ttu-id="e2c8b-228">Si desea información detallada sobre estas estrategias de replicación y otras estrategias de recuperación ante desastres, consulte [Procedimientos recomendados para aislar aplicaciones ante desastres e interrupciones de Service Bus](/azure/service-bus-messaging/service-bus-outages-disasters/).</span><span class="sxs-lookup"><span data-stu-id="e2c8b-228">For the details on these replication strategies and other disaster recovery strategies, see [Best practices for insulating applications against Service Bus outages and disasters](/azure/service-bus-messaging/service-bus-outages-disasters/).</span></span> <span data-ttu-id="e2c8b-229">Para otras consideraciones sobre disponibilidad, consulte [Service Bus (disponibilidad)](recovery-local-failures.md#other-azure-platform-services).</span><span class="sxs-lookup"><span data-stu-id="e2c8b-229">For other availability considerations, see [Service Bus (Availability)](recovery-local-failures.md#other-azure-platform-services).</span></span>

### <a name="app-service"></a><span data-ttu-id="e2c8b-230">App Service</span><span class="sxs-lookup"><span data-stu-id="e2c8b-230">App Service</span></span>
<span data-ttu-id="e2c8b-231">Para migrar una aplicación de Azure App Service, como Web Apps o Mobile Apps, a una región de Azure secundaria, debe tener una copia de seguridad del sitio web disponible para su publicación.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-231">To migrate an Azure App Service application, such as Web Apps or Mobile Apps, to a secondary Azure region, you must have a backup of the website available for publishing.</span></span> <span data-ttu-id="e2c8b-232">Si la interrupción no afecta al centro de datos de Azure completo, es posible utilizar una FTP para descargar una copia de seguridad reciente del contenido del sitio.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-232">If the outage does not involve the entire Azure datacenter, it might be possible to use FTP to download a recent backup of the site content.</span></span> <span data-ttu-id="e2c8b-233">A continuación, cree una nueva aplicación web en la región alternativa, a menos que ya lo haya hecho previamente para reservar capacidad.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-233">Then create a new app in the alternate region, unless you have previously done this to reserve capacity.</span></span> <span data-ttu-id="e2c8b-234">Publique el sitio en la nueva región y realice los cambios de configuración necesarios.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-234">Publish the site to the new region, and make any necessary configuration changes.</span></span> <span data-ttu-id="e2c8b-235">Estos cambios podrían incluir cadenas de conexión de base de datos u otra configuración específica de la región.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-235">These changes could include database connection strings or other region-specific settings.</span></span> <span data-ttu-id="e2c8b-236">Si es necesario, agregue el certificado SSL del sitio y cambie el registro DNS CNAME para que el nombre de dominio personalizado señale a la dirección URL de la aplicación web de Azure reimplementada.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-236">If necessary, add the site’s SSL certificate and change the DNS CNAME record so that the custom domain name points to the redeployed Azure Web App URL.</span></span>

### <a name="hdinsight"></a><span data-ttu-id="e2c8b-237">HDInsight</span><span class="sxs-lookup"><span data-stu-id="e2c8b-237">HDInsight</span></span>
<span data-ttu-id="e2c8b-238">Los datos asociados a HDInsight se almacenan de forma predeterminada en el Azure Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-238">The data associated with HDInsight is stored by default in Azure Blob Storage.</span></span> <span data-ttu-id="e2c8b-239">HDInsight requiere que un clúster de Hadoop que esté procesando trabajos de MapReduce esté ubicado en la misma región que la cuenta de almacenamiento que contiene los datos analizados.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-239">HDInsight requires that a Hadoop cluster processing MapReduce jobs must be co-located in the same region as the storage account that contains the data being analyzed.</span></span> <span data-ttu-id="e2c8b-240">Si utiliza la característica de replicación geográfica disponible en Azure Storage, podrá acceder a datos en la región secundaria en la que estos se replicaron si por algún motivo la región principal ya no está disponible.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-240">Provided you use the geo-replication feature available to Azure Storage, you can access your data in the secondary region where the data was replicated if for some reason the primary region is no longer available.</span></span> <span data-ttu-id="e2c8b-241">Puede crear un nuevo clúster de Hadoop en la región en la que se han replicado los datos y seguir procesándolo.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-241">You can create a new Hadoop cluster in the region where the data has been replicated and continue processing it.</span></span> <span data-ttu-id="e2c8b-242">Para otras consideraciones sobre disponibilidad, consulte [HDInsight (disponibilidad)](recovery-local-failures.md#other-azure-platform-services).</span><span class="sxs-lookup"><span data-stu-id="e2c8b-242">For other availability considerations, see [HDInsight (Availability)](recovery-local-failures.md#other-azure-platform-services).</span></span>

### <a name="sql-reporting"></a><span data-ttu-id="e2c8b-243">SQL Reporting</span><span class="sxs-lookup"><span data-stu-id="e2c8b-243">SQL Reporting</span></span>
<span data-ttu-id="e2c8b-244">En la actualidad, la recuperación de la pérdida de una región de Azure requiere varias instancias de SQL Reporting en diferentes regiones de Azure.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-244">At this time, recovering from the loss of an Azure region requires multiple SQL Reporting instances in different Azure regions.</span></span> <span data-ttu-id="e2c8b-245">Estas instancias de SQL Reporting deben tener acceso a los mismos datos, y estos deben tener su propio plan de recuperación en caso de desastre.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-245">These SQL Reporting instances should access the same data, and that data should have its own recovery plan in the event of a disaster.</span></span> <span data-ttu-id="e2c8b-246">También puede mantener copias de seguridad externas del archivo RDL para cada informe.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-246">You can also maintain external backup copies of the RDL file for each report.</span></span>

### <a name="media-services"></a><span data-ttu-id="e2c8b-247">Media Services</span><span class="sxs-lookup"><span data-stu-id="e2c8b-247">Media Services</span></span>
<span data-ttu-id="e2c8b-248">Azure Media Services tiene un enfoque de recuperación diferente para la codificación y el streaming.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-248">Azure Media Services has a different recovery approach for encoding and streaming.</span></span> <span data-ttu-id="e2c8b-249">Normalmente, el streaming es más importante durante un apagón regional.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-249">Typically, streaming is more critical during a regional outage.</span></span> <span data-ttu-id="e2c8b-250">Para prepararse para esto, debe tener una cuenta de Media Services en dos regiones distintas de Azure.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-250">To prepare for this, you should have a Media Services account in two different Azure regions.</span></span> <span data-ttu-id="e2c8b-251">El contenido codificado debe estar ubicado en ambas regiones.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-251">The encoded content should be located in both regions.</span></span> <span data-ttu-id="e2c8b-252">Durante un error, puede redirigir el tráfico de streaming a la región alternativa.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-252">During a failure, you can redirect the streaming traffic to the alternate region.</span></span> <span data-ttu-id="e2c8b-253">La codificación puede realizarse en cualquier región de Azure.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-253">Encoding can be performed in any Azure region.</span></span> <span data-ttu-id="e2c8b-254">Si la codificación está sujeta a limitación temporal como, por ejemplo, durante el procesamiento de eventos en directo, debe estar preparado para enviar trabajos a un centro de datos alternativo durante los errores.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-254">If encoding is time-sensitive, for example during live event processing, you must be prepared to submit jobs to an alternate datacenter during failures.</span></span>

### <a name="virtual-network"></a><span data-ttu-id="e2c8b-255">Red virtual</span><span class="sxs-lookup"><span data-stu-id="e2c8b-255">Virtual network</span></span>
<span data-ttu-id="e2c8b-256">Los archivos de configuración proporcionan la manera más rápida de configurar una red virtual en otra región de Azure.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-256">Configuration files provide the quickest way to set up a virtual network in an alternate Azure region.</span></span> <span data-ttu-id="e2c8b-257">Después de configurar la red virtual en la región principal de Azure, [exporte la configuración de red virtual](/azure/virtual-network/virtual-networks-create-vnet-classic-portal/) para la red actual a un archivo de configuración de red.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-257">After configuring the virtual network in the primary Azure region, [export the virtual network settings](/azure/virtual-network/virtual-networks-create-vnet-classic-portal/) for the current network to a network configuration file.</span></span> <span data-ttu-id="e2c8b-258">En el caso de una interrupción en la región principal, [restaure la red virtual](/azure/virtual-network/virtual-networks-create-vnet-classic-portal/) a partir del archivo de configuración almacenado.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-258">In the event of an outage in the primary region, [restore the virtual network](/azure/virtual-network/virtual-networks-create-vnet-classic-portal/) from the stored configuration file.</span></span> <span data-ttu-id="e2c8b-259">Después, configure otros servicios en la nube, máquinas virtuales o configuración entre locales para que funcionen con la nueva red virtual.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-259">Then configure other cloud services, virtual machines, or cross-premises settings to work with the new virtual network.</span></span>

## <a name="checklists-for-disaster-recovery"></a><span data-ttu-id="e2c8b-260">Listas de comprobación para la recuperación ante desastres.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-260">Checklists for disaster recovery</span></span>
## <a name="cloud-services-checklist"></a><span data-ttu-id="e2c8b-261">Lista de comprobación de Cloud Services</span><span class="sxs-lookup"><span data-stu-id="e2c8b-261">Cloud Services checklist</span></span>
1. <span data-ttu-id="e2c8b-262">Revise la sección Cloud Services de este documento.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-262">Review the Cloud Services section of this document.</span></span>
2. <span data-ttu-id="e2c8b-263">Cree una estrategia de recuperación ante desastres entre regiones.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-263">Create a cross-region disaster recovery strategy.</span></span>
3. <span data-ttu-id="e2c8b-264">Comprenda las ventajas e inconvenientes de reservar capacidad en regiones alternativas.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-264">Understand trade-offs in reserving capacity in alternate regions.</span></span>
4. <span data-ttu-id="e2c8b-265">Use herramientas de enrutamiento de tráfico, como el Administrador de tráfico de Azure.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-265">Use traffic routing tools, such as Azure Traffic Manager.</span></span>

## <a name="virtual-machines-checklist"></a><span data-ttu-id="e2c8b-266">Lista de comprobación de Máquinas virtuales</span><span class="sxs-lookup"><span data-stu-id="e2c8b-266">Virtual Machines checklist</span></span>
1. <span data-ttu-id="e2c8b-267">Revise la sección Máquinas virtuales de este documento.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-267">Review the Virtual Machines section of this document.</span></span>
2. <span data-ttu-id="e2c8b-268">Utilice [Azure Backup](https://azure.microsoft.com/services/backup/) para crear copias de seguridad de la aplicación coherentes entre regiones.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-268">Use [Azure Backup](https://azure.microsoft.com/services/backup/) to create application consistent backups across regions.</span></span>

## <a name="storage-checklist"></a><span data-ttu-id="e2c8b-269">Lista de comprobación de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="e2c8b-269">Storage checklist</span></span>
1. <span data-ttu-id="e2c8b-270">Revise la sección Almacenamiento de este documento.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-270">Review the Storage section of this document.</span></span>
2. <span data-ttu-id="e2c8b-271">No deshabilite la replicación geográfica de los recursos de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-271">Do not disable geo-replication of storage resources.</span></span>
3. <span data-ttu-id="e2c8b-272">Conozca la región alternativa para la replicación geográfica en caso de conmutación por error.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-272">Understand alternate region for geo-replication in the event of failover.</span></span>
4. <span data-ttu-id="e2c8b-273">Cree estrategias de copia de seguridad personalizadas para las estrategias de conmutación por error controladas por el usuario.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-273">Create custom backup strategies for user-controlled failover strategies.</span></span>

## <a name="sql-database-checklist"></a><span data-ttu-id="e2c8b-274">Lista de comprobación de SQL Database</span><span class="sxs-lookup"><span data-stu-id="e2c8b-274">SQL Database checklist</span></span>
1. <span data-ttu-id="e2c8b-275">Revise la sección SQL Database de este documento.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-275">Review the SQL Database section of this document.</span></span>
2. <span data-ttu-id="e2c8b-276">Utilice la [restauración geográfica](/azure/sql-database/sql-database-recovery-using-backups/#geo-restore) o la [replicación geográfica](/azure/sql-database/sql-database-geo-replication-overview/) según corresponda.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-276">Use [Geo-Restore](/azure/sql-database/sql-database-recovery-using-backups/#geo-restore) or [Geo-Replication](/azure/sql-database/sql-database-geo-replication-overview/) as appropriate.</span></span>

## <a name="sql-server-on-virtual-machines-checklist"></a><span data-ttu-id="e2c8b-277">Lista de comprobación de SQL Server en Máquinas virtuales</span><span class="sxs-lookup"><span data-stu-id="e2c8b-277">SQL Server on Virtual Machines checklist</span></span>
1. <span data-ttu-id="e2c8b-278">Revise la sección SQL Server en máquinas virtuales de este documento.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-278">Review the SQL Server on Virtual Machines section of this document.</span></span>
2. <span data-ttu-id="e2c8b-279">Use grupos de disponibilidad AlwaysOn entre regiones o creación de reflejo de base de datos.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-279">Use cross-region AlwaysOn Availability Groups or database mirroring.</span></span>
3. <span data-ttu-id="e2c8b-280">También puede utilizar copia de seguridad y restaurar en el almacenamiento de blobs.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-280">Alternately use backup and restore to blob storage.</span></span>

## <a name="service-bus-checklist"></a><span data-ttu-id="e2c8b-281">Lista de comprobación de Service Bus</span><span class="sxs-lookup"><span data-stu-id="e2c8b-281">Service Bus checklist</span></span>
1. <span data-ttu-id="e2c8b-282">Revise la sección Service Bus de este documento.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-282">Review the Service Bus section of this document.</span></span>
2. <span data-ttu-id="e2c8b-283">Configure un espacio de nombres de Service Bus en una región alternativa.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-283">Configure a Service Bus namespace in an alternate region.</span></span>
3. <span data-ttu-id="e2c8b-284">Considere las estrategias de replicación personalizadas para los mensajes entre regiones.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-284">Consider custom replication strategies for messages across regions.</span></span>

## <a name="app-service-checklist"></a><span data-ttu-id="e2c8b-285">Lista de comprobación de App Service</span><span class="sxs-lookup"><span data-stu-id="e2c8b-285">App Service checklist</span></span>
1. <span data-ttu-id="e2c8b-286">Revise la sección App Service de este documento.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-286">Review the App Service section of this document.</span></span>
2. <span data-ttu-id="e2c8b-287">Mantenga copias de seguridad del sitio fuera de la región primaria.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-287">Maintain site backups outside of the primary region.</span></span>
3. <span data-ttu-id="e2c8b-288">Si la interrupción es parcial, intente recuperar el sitio actual con FTP.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-288">If outage is partial, attempt to retrieve current site with FTP.</span></span>
4. <span data-ttu-id="e2c8b-289">Planee la implementación del sitio en un sitio web nuevo o ya existente en una región alternativa.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-289">Plan to deploy the site to new or existing site in an alternate region.</span></span>
5. <span data-ttu-id="e2c8b-290">Planee cambios de configuración para los registros de la aplicación y los de DNS CNAME.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-290">Plan configuration changes for both application and DNS CNAME records.</span></span>

## <a name="hdinsight-checklist"></a><span data-ttu-id="e2c8b-291">Lista de comprobación de HDInsight</span><span class="sxs-lookup"><span data-stu-id="e2c8b-291">HDInsight checklist</span></span>
1. <span data-ttu-id="e2c8b-292">Revise la sección HDInsight de este documento.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-292">Review the HDInsight section of this document.</span></span>
2. <span data-ttu-id="e2c8b-293">Cree un nuevo clúster de Hadoop en la región con los datos replicados.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-293">Create a new Hadoop cluster in the region with replicated data.</span></span>

## <a name="sql-reporting-checklist"></a><span data-ttu-id="e2c8b-294">Lista de comprobación de SQL Reporting</span><span class="sxs-lookup"><span data-stu-id="e2c8b-294">SQL Reporting checklist</span></span>
1. <span data-ttu-id="e2c8b-295">Revise la sección SQL Reporting de este documento.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-295">Review the SQL Reporting section of this document.</span></span>
2. <span data-ttu-id="e2c8b-296">Disponga de una instancia alternativa de SQL Reporting en una región diferente.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-296">Maintain an alternate SQL Reporting instance in a different region.</span></span>
3. <span data-ttu-id="e2c8b-297">Mantenga un plan independiente para replicar el destino en esa región.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-297">Maintain a separate plan to replicate the target to that region.</span></span>

## <a name="media-services-checklist"></a><span data-ttu-id="e2c8b-298">Lista de comprobación de Media Services</span><span class="sxs-lookup"><span data-stu-id="e2c8b-298">Media Services checklist</span></span>
1. <span data-ttu-id="e2c8b-299">Revise la sección Media Services de este documento.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-299">Review the Media Services section of this document.</span></span>
2. <span data-ttu-id="e2c8b-300">Cree una cuenta de Media Services en una región alternativa.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-300">Create a Media Services account in an alternate region.</span></span>
3. <span data-ttu-id="e2c8b-301">Codifique el mismo contenido en ambas regiones para que admitan la conmutación por error del streaming.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-301">Encode the same content in both regions to support streaming failover.</span></span>
4. <span data-ttu-id="e2c8b-302">Envíe los trabajos de codificación a una región alternativa en caso de una interrupción del servicio.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-302">Submit encoding jobs to an alternate region in the event of a service disruption.</span></span>

## <a name="virtual-network-checklist"></a><span data-ttu-id="e2c8b-303">Lista de comprobación de Virtual Network</span><span class="sxs-lookup"><span data-stu-id="e2c8b-303">Virtual Network checklist</span></span>
1. <span data-ttu-id="e2c8b-304">Revise la sección Virtual Network de este documento.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-304">Review the Virtual Network section of this document.</span></span>
2. <span data-ttu-id="e2c8b-305">Use la configuración exportada de la red virtual para volver a crearla en otra región.</span><span class="sxs-lookup"><span data-stu-id="e2c8b-305">Use exported virtual network settings to re-create it in another region.</span></span>

