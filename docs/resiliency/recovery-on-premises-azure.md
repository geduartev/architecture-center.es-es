---
title: 'Guía técnica: recuperación desde un centro de datos local a Azure'
description: Artículo sobre la descripción y diseño de sistemas recuperación desde infraestructuras locales a Azure
author: adamglick
ms.date: 08/18/2016
ms.openlocfilehash: 6992e27d148074b3d60c282318741f45974d1afd
ms.sourcegitcommit: e67b751f230792bba917754d67789a20810dc76b
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 04/06/2018
---
[!INCLUDE [header](../_includes/header.md)]

# <a name="azure-resiliency-technical-guidance-recovery-from-on-premises-to-azure"></a><span data-ttu-id="ae3e9-103">Guía técnica sobre resistencia en Azure: recuperación desde un centro de datos local a Azure</span><span class="sxs-lookup"><span data-stu-id="ae3e9-103">Azure resiliency technical guidance: Recovery from on-premises to Azure</span></span>
<span data-ttu-id="ae3e9-104">Azure proporciona un completo conjunto de servicios para habilitar la extensión de un centro de datos local a Azure con fines de alta disponibilidad y recuperación ante desastres:</span><span class="sxs-lookup"><span data-stu-id="ae3e9-104">Azure provides a comprehensive set of services for enabling the extension of an on-premises datacenter to Azure for high availability and disaster recovery purposes:</span></span>

* <span data-ttu-id="ae3e9-105">**Redes**: con una red privada virtual puede ampliar de forma segura la red local en la nube.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-105">**Networking**: With a virtual private network, you securely extend your on-premises network to the cloud.</span></span>
* <span data-ttu-id="ae3e9-106">**Proceso**: los clientes que usan Hyper-V en local pueden "levantar y mover" las máquinas virtuales existentes a Azure.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-106">**Compute**: Customers using Hyper-V on-premises can “lift and shift” existing virtual machines (VMs) to Azure.</span></span>
* <span data-ttu-id="ae3e9-107">**Almacenamiento**: StorSimple extiende el sistema de archivos a Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-107">**Storage**: StorSimple extends your file system to Azure Storage.</span></span> <span data-ttu-id="ae3e9-108">El servicio Azure Backup proporciona copias de seguridad de los archivos y Bases de datos SQL de Azure en Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-108">The Azure Backup service provides backup for files and SQL databases to Azure Storage.</span></span>
* <span data-ttu-id="ae3e9-109">**Replicación de base de datos**: con los grupos de disponibilidad de SQL Server 2014 (o posterior) puede implementar las características de alta disponibilidad y de recuperación ante desastres para los datos locales.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-109">**Database replication**: With SQL Server 2014 (or later) Availability Groups, you can implement high availability and disaster recovery for your on-premises data.</span></span>

## <a name="networking"></a><span data-ttu-id="ae3e9-110">Redes</span><span class="sxs-lookup"><span data-stu-id="ae3e9-110">Networking</span></span>
<span data-ttu-id="ae3e9-111">Puede usar Azure Virtual Network para crear una sección aislada lógicamente en Azure y conectarla de forma segura al centro de datos local o a un único equipo cliente mediante una conexión IPsec.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-111">You can use Azure Virtual Network to create a logically isolated section in Azure and securely connect it to your on-premises datacenter or a single client machine by using an IPsec connection.</span></span> <span data-ttu-id="ae3e9-112">Con Virtual Network puede sacarle todo el partido a la infraestructura escalable a petición de Azure, sin dejar de ofrecer conectividad a los datos y aplicaciones locales, incluidos los sistemas que se ejecutan en Windows Server, en grandes sistemas y en UNIX.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-112">With Virtual Network, you can take advantage of the scalable, on-demand infrastructure in Azure while providing connectivity to data and applications on-premises, including systems running on Windows Server, mainframes, and UNIX.</span></span> <span data-ttu-id="ae3e9-113">Para más información, consulte la [documentación de redes de Azure](/azure/virtual-network/virtual-networks-overview/) .</span><span class="sxs-lookup"><span data-stu-id="ae3e9-113">See [Azure networking documentation](/azure/virtual-network/virtual-networks-overview/) for more information.</span></span>

## <a name="compute"></a><span data-ttu-id="ae3e9-114">Proceso</span><span class="sxs-lookup"><span data-stu-id="ae3e9-114">Compute</span></span>
<span data-ttu-id="ae3e9-115">Si está utilizando Hyper-V de forma local puede "levantar y mover" las máquinas virtuales existentes a Azure junto con los proveedores de servicios que ejecutan Windows Server 2012 (o posterior), sin realizar cambios en la máquina virtual ni convertir sus formatos.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-115">If you're using Hyper-V on-premises, you can “lift and shift” existing virtual machines to Azure and service providers running Windows Server 2012 (or later), without making changes to the VM or converting VM formats.</span></span> <span data-ttu-id="ae3e9-116">Para obtener más información, consulte [Acerca de los discos y los discos duros virtuales para máquinas virtuales de Azure](/azure/virtual-machines/virtual-machines-linux-about-disks-vhds/?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="ae3e9-116">For more information, see [About disks and VHDs for Azure virtual machines](/azure/virtual-machines/virtual-machines-linux-about-disks-vhds/?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

## <a name="azure-site-recovery"></a><span data-ttu-id="ae3e9-117">Azure Site Recovery</span><span class="sxs-lookup"><span data-stu-id="ae3e9-117">Azure Site Recovery</span></span>
<span data-ttu-id="ae3e9-118">Si desea obtener la recuperación ante desastres como servicio (DRaaS), Azure proporciona [Azure Site Recovery](https://azure.microsoft.com/services/site-recovery/).</span><span class="sxs-lookup"><span data-stu-id="ae3e9-118">If you want disaster recovery as a service (DRaaS), Azure provides [Azure Site Recovery](https://azure.microsoft.com/services/site-recovery/).</span></span> <span data-ttu-id="ae3e9-119">Azure Site Recovery ofrece protección completa para servidores de VMware, Hyper-V y físicos.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-119">Azure Site Recovery offers comprehensive protection for VMware, Hyper-V, and physical servers.</span></span> <span data-ttu-id="ae3e9-120">Con Azure Site Recovery puede utilizar otro servidor local o el mismo Azure como sitio de recuperación.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-120">With Azure Site Recovery, you can use another on-premises server or Azure as your recovery site.</span></span> <span data-ttu-id="ae3e9-121">Para más información sobre Azure Site Recovery, consulte la [Documentación de Azure Site Recovery](https://azure.microsoft.com/documentation/services/site-recovery/).</span><span class="sxs-lookup"><span data-stu-id="ae3e9-121">For more information on Azure Site Recovery, see the [Azure Site Recovery documentation](https://azure.microsoft.com/documentation/services/site-recovery/).</span></span>

## <a name="storage"></a><span data-ttu-id="ae3e9-122">Storage</span><span class="sxs-lookup"><span data-stu-id="ae3e9-122">Storage</span></span>
<span data-ttu-id="ae3e9-123">Hay varias opciones para usar Azure como sitio de copia de seguridad para los datos locales.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-123">There are several options for using Azure as a backup site for on-premises data.</span></span>

### <a name="storsimple"></a><span data-ttu-id="ae3e9-124">StorSimple</span><span class="sxs-lookup"><span data-stu-id="ae3e9-124">StorSimple</span></span>
<span data-ttu-id="ae3e9-125">StorSimple integra de forma segura y transparente el almacenamiento en la nube para las aplicaciones locales.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-125">StorSimple securely and transparently integrates cloud storage for on-premises applications.</span></span> <span data-ttu-id="ae3e9-126">También ofrece un único dispositivo que proporciona almacenamiento local en capas de alto rendimiento y almacenamiento en la nube, archivado activo, protección de datos basada en la nube y recuperación ante desastres.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-126">It also offers a single appliance that delivers high-performance tiered local and cloud storage, live archiving, cloud-based data protection, and disaster recovery.</span></span> <span data-ttu-id="ae3e9-127">Para más información, consulte la [página de productos de StorSimple](https://azure.microsoft.com/services/storsimple/).</span><span class="sxs-lookup"><span data-stu-id="ae3e9-127">For more information, see the [StorSimple product page](https://azure.microsoft.com/services/storsimple/).</span></span>

### <a name="azure-backup"></a><span data-ttu-id="ae3e9-128">Azure Backup</span><span class="sxs-lookup"><span data-stu-id="ae3e9-128">Azure Backup</span></span>
<span data-ttu-id="ae3e9-129">Azure Backup permite las copias de seguridad en la nube mediante las conocidas herramientas de copia de seguridad de Windows Server 2012 (o posterior), Windows Server 2012 Essentials (o posterior) y System Center 2012 Data Protection Manager (o posterior).</span><span class="sxs-lookup"><span data-stu-id="ae3e9-129">Azure Backup enables cloud backups by using the familiar backup tools in Windows Server 2012 (or later), Windows Server 2012 Essentials (or later), and System Center 2012 Data Protection Manager (or later).</span></span> <span data-ttu-id="ae3e9-130">Estas herramientas proporcionan un flujo de trabajo para la administración de copias de seguridad que es independiente de la ubicación de almacenamiento de estas, ya se trate de un disco local o de Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-130">These tools provide a workflow for backup management that is independent of the storage location of the backups, whether a local disk or Azure Storage.</span></span> <span data-ttu-id="ae3e9-131">Una vez que se realiza la copia de seguridad de los datos en la nube, los usuarios autorizados pueden recuperar fácilmente copias de seguridad en cualquier servidor.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-131">After data is backed up to the cloud, authorized users can easily recover backups to any server.</span></span>

<span data-ttu-id="ae3e9-132">Con las copias de seguridad incrementales, solo se transfieren a la nube los cambios en los archivos.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-132">With incremental backups, only changes to files are transferred to the cloud.</span></span> <span data-ttu-id="ae3e9-133">Esto permite usar eficazmente el espacio de almacenamiento, reducir el consumo del ancho de banda y admitir la recuperación de estados anteriores de varias versiones de los datos.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-133">This helps to efficiently use storage space, reduce bandwidth consumption, and support point-in-time recovery of multiple versions of the data.</span></span> <span data-ttu-id="ae3e9-134">También puede usar características adicionales, como las directivas de retención de datos, la compresión de datos y la limitación de la transferencia de datos.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-134">You can also choose to use additional features, such as data retention policies, data compression, and data transfer throttling.</span></span> <span data-ttu-id="ae3e9-135">El uso de Azure como ubicación de las copias de seguridad tiene la ventaja obvia de que las copias de seguridad están automáticamente en una ubicación remota.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-135">Using Azure as the backup location has the obvious advantage that the backups are automatically “offsite”.</span></span> <span data-ttu-id="ae3e9-136">Esto elimina los requisitos adicionales para proteger los medios de copia de seguridad in situ.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-136">This eliminates the extra requirements to secure and protect on-site backup media.</span></span>

<span data-ttu-id="ae3e9-137">Para obtener más información, consulte [¿Qué es Azure Backup?](/azure/backup/backup-introduction-to-azure-backup/) y [Configuración de Azure Backup para los datos DPM](https://technet.microsoft.com/library/jj728752.aspx).</span><span class="sxs-lookup"><span data-stu-id="ae3e9-137">For more information, see [What is Azure Backup?](/azure/backup/backup-introduction-to-azure-backup/) and [Configure Azure Backup for DPM data](https://technet.microsoft.com/library/jj728752.aspx).</span></span>

## <a name="database"></a><span data-ttu-id="ae3e9-138">Base de datos</span><span class="sxs-lookup"><span data-stu-id="ae3e9-138">Database</span></span>
<span data-ttu-id="ae3e9-139">Puede tener una solución de recuperación ante desastres para las bases de datos de SQL Server en un entorno de TI híbrida usando grupos de disponibilidad AlwaysOn, creación de reflejo de base de datos, trasvase de registros y copias de seguridad y restauración con el Almacenamiento de blobs de Azure.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-139">You can have a disaster recovery solution for your SQL Server databases in a hybrid-IT environment by using AlwaysOn Availability Groups, database mirroring, log shipping, and backup and restore with Azure Blob storage.</span></span> <span data-ttu-id="ae3e9-140">Todas estas soluciones utilizan SQL Server que se ejecuta en Azure Virtual Machines.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-140">All of these solutions use SQL Server running on Azure Virtual Machines.</span></span>

<span data-ttu-id="ae3e9-141">Los grupos de disponibilidad AlwaysOn pueden utilizarse en un entorno de TI híbrida donde las réplicas de la base de datos existen tanto de forma local como en la nube.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-141">AlwaysOn Availability Groups can be used in a hybrid-IT environment where database replicas exist both on-premises and in the cloud.</span></span> <span data-ttu-id="ae3e9-142">Esto se muestra en el diagrama siguiente.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-142">This is shown in the following diagram.</span></span>

![Grupos de disponibilidad AlwaysOn de SQL Server en una arquitectura en la nube híbrida](./images/technical-guidance-recovery-on-premises-azure/SQL_Server_Disaster_Recovery-3.png)

<span data-ttu-id="ae3e9-144">La creación de reflejo de base de datos también puede abarcar servidores locales y en la nube en una instalación basada en certificados.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-144">Database mirroring can also span on-premises servers and the cloud in a certificate-based setup.</span></span> <span data-ttu-id="ae3e9-145">En el siguiente diagrama, se ilustra este concepto.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-145">The following diagram illustrates this concept.</span></span>

![Creación de reflejo de base de datos SQL Server en una arquitectura en la nube híbrida](./images/technical-guidance-recovery-on-premises-azure/SQL_Server_Disaster_Recovery-4.png)

<span data-ttu-id="ae3e9-147">El trasvase de registros se puede usar para sincronizar una base de datos local con una base de datos de SQL Server en una máquina virtual de Azure.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-147">Log shipping can be used to synchronize an on-premises database with a SQL Server database in an Azure virtual machine.</span></span>

![Trasvase de registros de SQL Server en una arquitectura en la nube híbrida](./images/technical-guidance-recovery-on-premises-azure/SQL_Server_Disaster_Recovery-5.png)

<span data-ttu-id="ae3e9-149">Por último, puede hacer una copia de una base de datos local directamente en Almacenamiento de blobs de Azure.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-149">Finally, you can back up an on-premises database directly to Azure Blob storage.</span></span>

![Copia de seguridad de SQL Server en Almacenamiento de blobs de Azure en una arquitectura en la nube híbrida](./images/technical-guidance-recovery-on-premises-azure/SQL_Server_Disaster_Recovery-6.png)

<span data-ttu-id="ae3e9-151">Para obtener más información, consulte [Alta disponibilidad y recuperación ante desastres para SQL Server en Azure Virtual Machines](/azure/virtual-machines/windows/sql/virtual-machines-windows-sql-high-availability-dr/) y [Copias de seguridad y restauración para SQL Server en Azure Virtual Machines](/azure/virtual-machines/windows/sql/virtual-machines-windows-sql-backup-recovery/).</span><span class="sxs-lookup"><span data-stu-id="ae3e9-151">For more information, see [High availability and disaster recovery for SQL Server in Azure virtual machines](/azure/virtual-machines/windows/sql/virtual-machines-windows-sql-high-availability-dr/) and [Backup and restore for SQL Server in Azure virtual machines](/azure/virtual-machines/windows/sql/virtual-machines-windows-sql-backup-recovery/).</span></span>

## <a name="checklists-for-on-premises-recovery-in-microsoft-azure"></a><span data-ttu-id="ae3e9-152">Listas de comprobación para la recuperación local en Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="ae3e9-152">Checklists for on-premises recovery in Microsoft Azure</span></span>
### <a name="networking"></a><span data-ttu-id="ae3e9-153">Redes</span><span class="sxs-lookup"><span data-stu-id="ae3e9-153">Networking</span></span>
1. <span data-ttu-id="ae3e9-154">Revise la sección Redes de este documento.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-154">Review the Networking section of this document.</span></span>
2. <span data-ttu-id="ae3e9-155">Use la red virtual para conectar de forma segura la ubicación local a la nube.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-155">Use Virtual Network to securely connect on-premises to the cloud.</span></span>

### <a name="compute"></a><span data-ttu-id="ae3e9-156">Proceso</span><span class="sxs-lookup"><span data-stu-id="ae3e9-156">Compute</span></span>
1. <span data-ttu-id="ae3e9-157">Revise la sección Proceso de este documento.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-157">Review the Compute section of this document.</span></span>
2. <span data-ttu-id="ae3e9-158">Reubique las máquinas virtuales entre Hyper-V y Azure.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-158">Relocate VMs between Hyper-V and Azure.</span></span>

### <a name="storage"></a><span data-ttu-id="ae3e9-159">Storage</span><span class="sxs-lookup"><span data-stu-id="ae3e9-159">Storage</span></span>
1. <span data-ttu-id="ae3e9-160">Revise la sección Almacenamiento de este documento.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-160">Review the Storage section of this document.</span></span>
2. <span data-ttu-id="ae3e9-161">Aproveche las ventajas de los servicios de StorSimple para usar el almacenamiento en la nube.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-161">Take advantage of StorSimple services for using cloud storage.</span></span>
3. <span data-ttu-id="ae3e9-162">Use los servicios de Azure Backup.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-162">Use the Azure Backup service.</span></span>

### <a name="database"></a><span data-ttu-id="ae3e9-163">Base de datos</span><span class="sxs-lookup"><span data-stu-id="ae3e9-163">Database</span></span>
1. <span data-ttu-id="ae3e9-164">Revise la sección Base de datos de este documento.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-164">Review the Database section of this document.</span></span>
2. <span data-ttu-id="ae3e9-165">Considere la posibilidad de usar SQL Server en máquinas virtuales de Azure como copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-165">Consider using SQL Server on Azure VMs as the backup.</span></span>
3. <span data-ttu-id="ae3e9-166">Configure los grupos de disponibilidad AlwaysOn.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-166">Set up AlwaysOn Availability Groups.</span></span>
4. <span data-ttu-id="ae3e9-167">Configure el reflejo de base de datos basado en certificados.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-167">Configure certificate-based database mirroring.</span></span>
5. <span data-ttu-id="ae3e9-168">Use el trasvase de registros.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-168">Use log shipping.</span></span>
6. <span data-ttu-id="ae3e9-169">Realice una copia de seguridad de las bases de datos locales en Almacenamiento de blobs de Azure.</span><span class="sxs-lookup"><span data-stu-id="ae3e9-169">Back up on-premises databases to Azure Blob storage.</span></span>


