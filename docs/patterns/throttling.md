---
title: Limitaciones
description: Controlan el consumo de recursos que usa una instancia de una aplicación, un inquilino individual o un servicio completo.
keywords: Patrón de diseño
author: dragon119
ms.date: 06/23/2017
pnp.series.title: Cloud Design Patterns
pnp.pattern.categories:
- availability
- performance-scalability
ms.openlocfilehash: 29156fc72f40a952dd53adcb20ffa7c3d0af79b4
ms.sourcegitcommit: b0482d49aab0526be386837702e7724c61232c60
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 11/14/2017
---
# <a name="throttling-pattern"></a><span data-ttu-id="a0dcc-104">Patrón Throttling</span><span class="sxs-lookup"><span data-stu-id="a0dcc-104">Throttling pattern</span></span>

[!INCLUDE [header](../_includes/header.md)]

<span data-ttu-id="a0dcc-105">Controlan el consumo de recursos que usa una instancia de una aplicación, un inquilino individual o un servicio completo.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-105">Control the consumption of resources used by an instance of an application, an individual tenant, or an entire service.</span></span> <span data-ttu-id="a0dcc-106">Esto puede permitir que el sistema siga funcionando y cumpla los acuerdos de nivel de servicio, incluso cuando el aumento de la demanda impone una carga extrema sobre los recursos.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-106">This can allow the system to continue to function and meet service level agreements, even when an increase in demand places an extreme load on resources.</span></span>

## <a name="context-and-problem"></a><span data-ttu-id="a0dcc-107">Contexto y problema</span><span class="sxs-lookup"><span data-stu-id="a0dcc-107">Context and problem</span></span>

<span data-ttu-id="a0dcc-108">La carga de una aplicación en la nube suele variar con el tiempo en función del número de usuarios activos o de los tipos de actividades que realizan.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-108">The load on a cloud application typically varies over time based on the number of active users or the types of activities they are performing.</span></span> <span data-ttu-id="a0dcc-109">Por ejemplo, es probable que haya más usuarios activos durante las horas de trabajo, o que el sistema tenga que realizar análisis analíticos de cálculo intensivo al final de cada mes.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-109">For example, more users are likely to be active during business hours, or the system might be required to perform computationally expensive analytics at the end of each month.</span></span> <span data-ttu-id="a0dcc-110">También puede haber ráfagas repentinas e imprevistas en la actividad.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-110">There might also be sudden and unanticipated bursts in activity.</span></span> <span data-ttu-id="a0dcc-111">Si los requisitos de procesamiento del sistema exceden la capacidad de los recursos disponibles, el sistema podrá experimentar un rendimiento deficiente e incluso puede producir un error.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-111">If the processing requirements of the system exceed the capacity of the resources that are available, it'll suffer from poor performance and can even fail.</span></span> <span data-ttu-id="a0dcc-112">Si el sistema tiene que cumplir un nivel de servicio acordado, este error podría ser aceptable.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-112">If the system has to meet an agreed level of service, such failure could be unacceptable.</span></span>

<span data-ttu-id="a0dcc-113">Existen muchas estrategias disponibles para manejar cargas variables en la nube, dependiendo de los objetivos de negocio de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-113">There're many strategies available for handling varying load in the cloud, depending on the business goals for the application.</span></span> <span data-ttu-id="a0dcc-114">Una estrategia consiste en utilizar el escalado automático para adaptar los recursos aprovisionados a las necesidades del usuario en cualquier momento.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-114">One strategy is to use autoscaling to match the provisioned resources to the user needs at any given time.</span></span> <span data-ttu-id="a0dcc-115">Esto tiene el potencial de satisfacer la demanda de los usuarios de forma coherente, al tiempo que se optimizan los costos de funcionamiento.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-115">This has the potential to consistently meet user demand, while optimizing running costs.</span></span> <span data-ttu-id="a0dcc-116">Sin embargo, aunque el escalado automático puede desencadenar el aprovisionamiento de recursos adicionales, este aprovisionamiento no es inmediato.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-116">However, while autoscaling can trigger the provisioning of additional resources, this provisioning isn't immediate.</span></span> <span data-ttu-id="a0dcc-117">Si la demanda aumenta rápidamente, puede haber una ventana de tiempo donde hay un déficit de recursos.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-117">If demand grows quickly, there can be a window of time where there's a resource deficit.</span></span>

## <a name="solution"></a><span data-ttu-id="a0dcc-118">Solución</span><span class="sxs-lookup"><span data-stu-id="a0dcc-118">Solution</span></span>

<span data-ttu-id="a0dcc-119">Una estrategia alternativa al escalado automático es permitir que las aplicaciones utilicen los recursos solo hasta un límite y, después, regularlos cuando se alcance dicho límite.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-119">An alternative strategy to autoscaling is to allow applications to use resources only up to a limit, and then throttle them when this limit is reached.</span></span> <span data-ttu-id="a0dcc-120">El sistema debería supervisar cómo utiliza los recursos para que, cuando el uso supere el umbral, pueda limitar las solicitudes de uno o más usuarios.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-120">The system should monitor how it's using resources so that, when usage exceeds the threshold, it can throttle requests from one or more users.</span></span> <span data-ttu-id="a0dcc-121">Esto permitirá que el sistema siga funcionando y cumpla los Acuerdos de Nivel de Servicio establecidos.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-121">This will enable the system to continue functioning and meet any service level agreements (SLAs) that are in place.</span></span> <span data-ttu-id="a0dcc-122">Para más información sobre cómo supervisar el uso de recursos, consulte [Orientación sobre instrumentación y telemetría](https://msdn.microsoft.com/library/dn589775.aspx).</span><span class="sxs-lookup"><span data-stu-id="a0dcc-122">For more information on monitoring resource usage, see the [Instrumentation and Telemetry Guidance](https://msdn.microsoft.com/library/dn589775.aspx).</span></span>

<span data-ttu-id="a0dcc-123">El sistema podría implementar varias estrategias de limitación, entre ellas:</span><span class="sxs-lookup"><span data-stu-id="a0dcc-123">The system could implement several throttling strategies, including:</span></span>

- <span data-ttu-id="a0dcc-124">Rechazar las solicitudes de un usuario individual que ya ha accedido a las API del sistema más de n veces por segundo durante un período determinado.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-124">Rejecting requests from an individual user who's already accessed system APIs more than n times per second over a given period of time.</span></span> <span data-ttu-id="a0dcc-125">Esto requiere que el sistema mida el uso de recursos para cada inquilino o usuario que ejecuta una aplicación.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-125">This requires the system to meter the use of resources for each tenant or user running an application.</span></span> <span data-ttu-id="a0dcc-126">Para obtener más información, consulte [Service Metering Guidance](https://msdn.microsoft.com/library/dn589796.aspx) (Guía de medición de servicio).</span><span class="sxs-lookup"><span data-stu-id="a0dcc-126">For more information, see the [Service Metering Guidance](https://msdn.microsoft.com/library/dn589796.aspx).</span></span>

- <span data-ttu-id="a0dcc-127">Deshabilitar o degradar la funcionalidad de determinados servicios no esenciales para que los servicios esenciales puedan funcionar sin impedimentos con recursos suficientes.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-127">Disabling or degrading the functionality of selected nonessential services so that essential services can run unimpeded with sufficient resources.</span></span> <span data-ttu-id="a0dcc-128">Por ejemplo, si la aplicación está transmitiendo vídeo, podría cambiar a una resolución inferior.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-128">For example, if the application is streaming video output, it could switch to a lower resolution.</span></span>

- <span data-ttu-id="a0dcc-129">Con la nivelación de carga para unificar el volumen de actividad (este enfoque se trata con más detalle en el [patrón Queue-Based Load Leveling](queue-based-load-leveling.md)).</span><span class="sxs-lookup"><span data-stu-id="a0dcc-129">Using load leveling to smooth the volume of activity (this approach is covered in more detail by the [Queue-based Load Leveling pattern](queue-based-load-leveling.md)).</span></span> <span data-ttu-id="a0dcc-130">En un entorno de varios inquilinos, este enfoque reducirá el rendimiento de cada inquilino.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-130">In a multi-tenant environment, this approach will reduce the performance for every tenant.</span></span> <span data-ttu-id="a0dcc-131">Si el sistema debe admitir una combinación de inquilinos con distintos Acuerdos de Nivel de Servicio, el trabajo para inquilinos de alto valor podría realizarse inmediatamente.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-131">If the system must support a mix of tenants with different SLAs, the work for high-value tenants might be performed immediately.</span></span> <span data-ttu-id="a0dcc-132">Las solicitudes para otros inquilinos se pueden retener y controlar cuando haya disminuido el trabajo pendiente.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-132">Requests for other tenants can be held back, and handled when the backlog has eased.</span></span> <span data-ttu-id="a0dcc-133">El [patrón Priority Queue][] podría usarse para ayudar a implementar este enfoque.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-133">The [Priority Queue pattern][] could be used to help implement this approach.</span></span>

- <span data-ttu-id="a0dcc-134">Aplazar las operaciones que se realizan en nombre de las aplicaciones de prioridad inferior o de los inquilinos.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-134">Deferring operations being performed on behalf of lower priority applications or tenants.</span></span> <span data-ttu-id="a0dcc-135">Estas operaciones se pueden suspender o limitar, con una excepción generada para informar al inquilino de que el sistema está ocupado y que la operación debe retomarse más tarde.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-135">These operations can be suspended or limited, with an exception generated to inform the tenant that the system is busy and that the operation should be retried later.</span></span>

<span data-ttu-id="a0dcc-136">La ilustración muestra un gráfico de área para el uso de recursos (una combinación de memoria, CPU, ancho de banda y otros factores) comparándolo con el tiempo para aplicaciones que están haciendo uso de tres características.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-136">The figure shows an area graph for resource use (a combination of memory, CPU, bandwidth, and other factors) against time for applications that are making use of three features.</span></span> <span data-ttu-id="a0dcc-137">Una característica es un área de funcionalidad, como un componente que realiza un conjunto específico de tareas, una pieza de código que realiza un cálculo complejo o un elemento que proporciona un servicio como una caché en memoria.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-137">A feature is an area of functionality, such as a component that performs a specific set of tasks, a piece of code that performs a complex calculation, or an element that provides a service such as an in-memory cache.</span></span> <span data-ttu-id="a0dcc-138">Estas características están etiquetadas como A, B y C.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-138">These features are labeled A, B, and C.</span></span>

![Figura 1: Gráfico que muestra el uso de recursos comparándolo con el tiempo en aplicaciones que se ejecutan en nombre de tres usuarios](./_images/throttling-resource-utilization.png)


> <span data-ttu-id="a0dcc-140">El área inmediatamente debajo de la línea de una característica indica los recursos que utilizan las aplicaciones cuando invocan esta característica.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-140">The area immediately below the line for a feature indicates the resources that are used by applications when they invoke this feature.</span></span> <span data-ttu-id="a0dcc-141">Por ejemplo, el área situada debajo de la línea para la característica A muestra los recursos utilizados por las aplicaciones que están haciendo uso de la característica A, y el área que se encuentra entre las líneas para la característica A y la característica B indica los recursos utilizados por las aplicaciones que invocan la característica B. La agregación de las áreas para cada característica muestra el uso total de recursos del sistema.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-141">For example, the area below the line for Feature A shows the resources used by applications that are making use of Feature A, and the area between the lines for Feature A and Feature B indicates the resources used by applications invoking Feature B. Aggregating the areas for each feature shows the total resource use of the system.</span></span>

<span data-ttu-id="a0dcc-142">En la ilustración anterior se muestran los efectos del aplazamiento de las operaciones.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-142">The previous figure illustrates the effects of deferring operations.</span></span> <span data-ttu-id="a0dcc-143">Justo antes del tiempo T1, los recursos totales asignados a todas las aplicaciones que utilizan estas características alcanzan un umbral (el límite del uso de recursos).</span><span class="sxs-lookup"><span data-stu-id="a0dcc-143">Just prior to time T1, the total resources allocated to all applications using these features reach a threshold (the limit of resource use).</span></span> <span data-ttu-id="a0dcc-144">En este punto, las aplicaciones corren el riesgo de agotar los recursos disponibles.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-144">At this point, the applications are in danger of exhausting the resources available.</span></span> <span data-ttu-id="a0dcc-145">En este sistema, la característica B es menos crítica que la A o la C, por lo que está temporalmente deshabilitada y los recursos que estaba utilizando se liberan.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-145">In this system, Feature B is less critical than Feature A or Feature C, so it's temporarily disabled and the resources that it was using are released.</span></span> <span data-ttu-id="a0dcc-146">Entre los tiempos T1 y T2, las aplicaciones que usan la característica A y la C continúan funcionando normalmente.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-146">Between times T1 and T2, the applications using Feature A and Feature C continue running as normal.</span></span> <span data-ttu-id="a0dcc-147">Finalmente, el uso de recursos de estas dos características disminuye hasta el punto en que, en el tiempo T2, hay suficiente capacidad para volver a habilitar la característica B.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-147">Eventually, the resource use of these two features diminishes to the point when, at time T2, there is sufficient capacity to enable Feature B again.</span></span>

<span data-ttu-id="a0dcc-148">Los enfoques de escalado automático y de limitación también pueden combinarse para ayudar a mantener la respuesta de las aplicaciones y dentro de los Acuerdos de Nivel de servicio.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-148">The autoscaling and throttling approaches can also be combined to help keep the applications responsive and within SLAs.</span></span> <span data-ttu-id="a0dcc-149">Si se espera que la demanda se mantenga alta, la limitación proporciona una solución temporal mientras que el sistema escala horizontalmente. En este punto, la funcionalidad completa del sistema se puede restaurar.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-149">If the demand is expected to remain high, throttling provides a temporary solution while the system scales out. At this point, the full functionality of the system can be restored.</span></span>

<span data-ttu-id="a0dcc-150">En la siguiente ilustración se muestra un gráfico de área del uso total de recursos por todas las aplicaciones que se ejecutan en un sistema comparado con el tiempo, e ilustra cómo se puede combinar la limitación con el escalado automático.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-150">The next figure shows an area graph of the overall resource use by all applications running in a system against time, and illustrates how throttling can be combined with autoscaling.</span></span>

![Figura 2: Gráfico que muestra los efectos de combinar la limitación con el escalado automático](./_images/throttling-autoscaling.png)


<span data-ttu-id="a0dcc-152">En el tiempo T1, se alcanza el umbral que especifica el límite suave del uso de los recursos.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-152">At time T1, the threshold specifying the soft limit of resource use is reached.</span></span> <span data-ttu-id="a0dcc-153">En este momento, el sistema puede comenzar a escalarse horizontalmente. Sin embargo, si los nuevos recursos no están disponibles lo suficientemente rápido, los recursos existentes podrían agotarse y podría producirse un error en el sistema.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-153">At this point, the system can start to scale out. However, if the new resources don't become available quickly enough, then the existing resources might be exhausted and the system could fail.</span></span> <span data-ttu-id="a0dcc-154">Para evitar que esto suceda, el sistema se limita temporalmente, tal como se ha descrito anteriormente.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-154">To prevent this from occurring, the system is temporarily throttled, as described earlier.</span></span> <span data-ttu-id="a0dcc-155">Cuando se ha completado el escalado automático y los recursos adicionales están disponibles, la limitación se puede relajar.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-155">When autoscaling has completed and the additional resources are available, throttling can be relaxed.</span></span>

## <a name="issues-and-considerations"></a><span data-ttu-id="a0dcc-156">Problemas y consideraciones</span><span class="sxs-lookup"><span data-stu-id="a0dcc-156">Issues and considerations</span></span>

<span data-ttu-id="a0dcc-157">A la hora de decidir cómo implementar este patrón, debe considerar los siguientes puntos:</span><span class="sxs-lookup"><span data-stu-id="a0dcc-157">You should consider the following points when deciding how to implement this pattern:</span></span>

- <span data-ttu-id="a0dcc-158">La limitación de una aplicación, así como la estrategia que se va a utilizar, es una decisión de arquitectura que afecta a todo el diseño de un sistema.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-158">Throttling an application, and the strategy to use, is an architectural decision that impacts the entire design of a system.</span></span> <span data-ttu-id="a0dcc-159">La limitación debe considerarse al principio del proceso de diseño de la aplicación porque no es fácil de agregar una vez implementado el sistema.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-159">Throttling should be considered early in the application design process because it isn't easy to add once a system has been implemented.</span></span>

- <span data-ttu-id="a0dcc-160">La limitación debe realizarse rápidamente.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-160">Throttling must be performed quickly.</span></span> <span data-ttu-id="a0dcc-161">El sistema debe ser capaz de detectar un aumento en la actividad y de actuar en consecuencia.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-161">The system must be capable of detecting an increase in activity and react accordingly.</span></span> <span data-ttu-id="a0dcc-162">El sistema también debe poder volver a su estado original rápidamente después de que la carga haya disminuido.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-162">The system must also be able to revert to its original state quickly after the load has eased.</span></span> <span data-ttu-id="a0dcc-163">Esto requiere que los datos de rendimiento apropiados se capturen y se supervisen continuamente.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-163">This requires that the appropriate performance data is continually captured and monitored.</span></span>

- <span data-ttu-id="a0dcc-164">Si un servicio necesita denegar temporalmente una solicitud de usuario, debe devolver un código de error específico para que la aplicación cliente entienda que el motivo del rechazo a realizar una operación se debe a la limitación.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-164">If a service needs to temporarily deny a user request, it should return a specific error code so the client application understands that the reason for the refusal to perform an operation is due to throttling.</span></span> <span data-ttu-id="a0dcc-165">La aplicación cliente puede esperar un tiempo antes de volver a intentar la solicitud.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-165">The client application can wait for a period before retrying the request.</span></span>

- <span data-ttu-id="a0dcc-166">La limitación se puede utilizar como una medida temporal mientras que un sistema escala automáticamente.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-166">Throttling can be used as a temporary measure while a system autoscales.</span></span> <span data-ttu-id="a0dcc-167">En algunos casos es mejor simplemente limitar, en lugar de escalar, si una ráfaga en la actividad es repentina y no se espera que dure mucho tiempo, porque el escalado puede aumentar considerablemente los costos de funcionamiento.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-167">In some cases it's better to simply throttle, rather than to scale, if a burst in activity is sudden and isn't expected to be long lived because scaling can add considerably to running costs.</span></span>

- <span data-ttu-id="a0dcc-168">Si se está utilizando la limitación como medida temporal mientras un sistema escala automáticamente y si la demanda de recursos crece muy rápidamente, el sistema podría no ser capaz de continuar funcionando, incluso cuando opera en modo limitado.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-168">If throttling is being used as a temporary measure while a system autoscales, and if resource demands grow very quickly, the system might not be able to continue functioning&mdash;even when operating in a throttled mode.</span></span> <span data-ttu-id="a0dcc-169">Si esto no es aceptable, considere mantener reservas de mayor capacidad y configurar un escalado automático más agresivo.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-169">If this isn't acceptable, consider maintaining larger capacity reserves and configuring more aggressive autoscaling.</span></span>

## <a name="when-to-use-this-pattern"></a><span data-ttu-id="a0dcc-170">Cuándo usar este patrón</span><span class="sxs-lookup"><span data-stu-id="a0dcc-170">When to use this pattern</span></span>

<span data-ttu-id="a0dcc-171">Use este patrón:</span><span class="sxs-lookup"><span data-stu-id="a0dcc-171">Use this pattern:</span></span>

- <span data-ttu-id="a0dcc-172">Para asegurarse de que un sistema siga cumpliendo los acuerdos de nivel de servicio.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-172">To ensure that a system continues to meet service level agreements.</span></span>

- <span data-ttu-id="a0dcc-173">Para impedir que un solo inquilino monopolice los recursos proporcionados por una aplicación.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-173">To prevent a single tenant from monopolizing the resources provided by an application.</span></span>

- <span data-ttu-id="a0dcc-174">Para controlar las ráfagas de actividad.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-174">To handle bursts in activity.</span></span>

- <span data-ttu-id="a0dcc-175">Para ayudar a optimizar el costo de un sistema mediante la limitación de los niveles máximos de recursos necesarios para que siga funcionando.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-175">To help cost-optimize a system by limiting the maximum resource levels needed to keep it functioning.</span></span>

## <a name="example"></a><span data-ttu-id="a0dcc-176">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="a0dcc-176">Example</span></span>

<span data-ttu-id="a0dcc-177">La ilustración final ilustra cómo se puede implementar la limitación en un sistema multiinquilino.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-177">The final figure illustrates how throttling can be implemented in a multi-tenant system.</span></span> <span data-ttu-id="a0dcc-178">Los usuarios de cada una de las organizaciones de inquilinos acceden a una aplicación hospedada en la nube donde rellenan y envían encuestas.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-178">Users from each of the tenant organizations access a cloud-hosted application where they fill out and submit surveys.</span></span> <span data-ttu-id="a0dcc-179">La aplicación contiene instrumentación que supervisa la velocidad a la que estos usuarios envían las solicitudes a la aplicación.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-179">The application contains instrumentation that monitors the rate at which these users are submitting requests to the application.</span></span>

<span data-ttu-id="a0dcc-180">Con el fin de evitar que los usuarios de un inquilino afecten a la capacidad de respuesta y disponibilidad de la aplicación para todos los demás usuarios, se aplica un límite al número de solicitudes por segundo que los usuarios de cualquier inquilino pueden enviar.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-180">In order to prevent the users from one tenant affecting the responsiveness and availability of the application for all other users, a limit is applied to the number of requests per second the users from any one tenant can submit.</span></span> <span data-ttu-id="a0dcc-181">La aplicación bloquea las solicitudes que superen este límite.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-181">The application blocks requests that exceed this limit.</span></span>

![Figura 3: Implementación de la limitación en una aplicación mutiinquilino](./_images/throttling-multi-tenant.png)


## <a name="related-patterns-and-guidance"></a><span data-ttu-id="a0dcc-183">Orientación y patrones relacionados</span><span class="sxs-lookup"><span data-stu-id="a0dcc-183">Related patterns and guidance</span></span>

<span data-ttu-id="a0dcc-184">Los patrones y las directrices siguientes también pueden ser importantes a la hora de implementar este patrón:</span><span class="sxs-lookup"><span data-stu-id="a0dcc-184">The following patterns and guidance may also be relevant when implementing this pattern:</span></span>
- <span data-ttu-id="a0dcc-185">[Orientación sobre instrumentación y telemetría](https://msdn.microsoft.com/library/dn589775.aspx).</span><span class="sxs-lookup"><span data-stu-id="a0dcc-185">[Instrumentation and Telemetry Guidance](https://msdn.microsoft.com/library/dn589775.aspx).</span></span> <span data-ttu-id="a0dcc-186">La limitación depende de la recopilación de información sobre el grado de utilización del servicio.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-186">Throttling depends on gathering information about how heavily a service is being used.</span></span> <span data-ttu-id="a0dcc-187">Describe cómo generar y capturar información de supervisión personalizada.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-187">Describes how to generate and capture custom monitoring information.</span></span>
- <span data-ttu-id="a0dcc-188">[Guía de la medición del servicio](https://msdn.microsoft.com/library/dn589796.aspx).</span><span class="sxs-lookup"><span data-stu-id="a0dcc-188">[Service Metering Guidance](https://msdn.microsoft.com/library/dn589796.aspx).</span></span> <span data-ttu-id="a0dcc-189">Describe cómo medir el uso de servicios para comprender cómo se utilizan.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-189">Describes how to meter the use of services in order to gain an understanding of how they are used.</span></span> <span data-ttu-id="a0dcc-190">Esta información puede ser útil para determinar cómo limitar un servicio.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-190">This information can be useful in determining how to throttle a service.</span></span>
- <span data-ttu-id="a0dcc-191">[Guía de escalado automático](https://msdn.microsoft.com/library/dn589774.aspx).</span><span class="sxs-lookup"><span data-stu-id="a0dcc-191">[Autoscaling Guidance](https://msdn.microsoft.com/library/dn589774.aspx).</span></span> <span data-ttu-id="a0dcc-192">La limitación puede usarse como medida provisional mientras el sistema se escala automáticamente, o para eliminar la necesidad de que un sistema se escale automáticamente.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-192">Throttling can be used as an interim measure while a system autoscales, or to remove the need for a system to autoscale.</span></span> <span data-ttu-id="a0dcc-193">Contiene información sobre estrategias de escalado automático.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-193">Contains information on autoscaling strategies.</span></span>
- <span data-ttu-id="a0dcc-194">[Patrón Queue-Based Load Leveling](queue-based-load-leveling.md).</span><span class="sxs-lookup"><span data-stu-id="a0dcc-194">[Queue-based Load Leveling pattern](queue-based-load-leveling.md).</span></span> <span data-ttu-id="a0dcc-195">Este patrón es un mecanismo utilizado normalmente para implementar la limitación.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-195">Queue-based load leveling is a commonly used mechanism for implementing throttling.</span></span> <span data-ttu-id="a0dcc-196">Una cola puede actuar como un búfer que ayuda a equilibrar la velocidad a la que se entregan a un servicio las solicitudes enviadas por una aplicación.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-196">A queue can act as a buffer that helps to even out the rate at which requests sent by an application are delivered to a service.</span></span>
- <span data-ttu-id="a0dcc-197">[patrón Priority Queue][].</span><span class="sxs-lookup"><span data-stu-id="a0dcc-197">[Priority Queue pattern][].</span></span> <span data-ttu-id="a0dcc-198">Un sistema puede utilizar las colas de prioridad como parte de su estrategia de limitación para mantener el rendimiento de aplicaciones críticas o de mayor valor, a la vez que reduce el rendimiento de las aplicaciones menos importantes.</span><span class="sxs-lookup"><span data-stu-id="a0dcc-198">A system can use priority queuing as part of its throttling strategy to maintain performance for critical or higher value applications, while reducing the performance of less important applications.</span></span>

[patrón Priority Queue]: priority-queue.md
[Priority Queue pattern]: priority-queue.md